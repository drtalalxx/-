<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<title>حساب توقيت الدورة الشهرية</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 500px; margin: 30px auto; padding: 10px; background: #f7f7f7; }
  label { display: block; margin-top: 20px; font-weight: bold; }
  input, button { width: 100%; padding: 8px; margin-top: 8px; font-size: 1rem; }
  .result { margin-top: 30px; padding: 15px; background: #d1ffd1; border-radius: 5px; font-weight: bold; min-height: 60px; }
</style>
</head>
<body>

<h2>حساب توقيت الدورة الشهرية</h2>

<form id="cycleForm">
  <label>دورتك الشهرية تأتي كل؟ (عدد الأيام)</label>
  <input type="number" id="interval" min="10" max="60" required />

  <label>تاريخ آخر دورة شهرية</label>
  <input type="date" id="lastCycle" required />

  <label>تاريخ الإجراء</label>
  <input type="date" id="procedureDate" required />

  <button type="submit">احسب</button>
</form>

<div class="result" id="result"></div>

<script>
document.getElementById('cycleForm').addEventListener('submit', function(e) {
  e.preventDefault();

  const interval = parseInt(document.getElementById('interval').value);
  const lastCycle = new Date(document.getElementById('lastCycle').value);
  const procedureDate = new Date(document.getElementById('procedureDate').value);
  const resultDiv = document.getElementById('result');

  if (isNaN(interval) || interval < 21 || interval > 35) {
    resultDiv.textContent = 'دورتك غير منتظمة، يرجى استشارة الطبيب.';
    return;
  }

  const diffDays = Math.round((lastCycle - procedureDate) / (1000 * 60 * 60 * 24));

  if (diffDays === 7) {
    resultDiv.textContent = 'دورتك كانت بعد الإجراء بأسبوع';
  } else if (diffDays === -14) {
    resultDiv.textContent = 'دورتك كانت قبل الإجراء بأسبوعين';
  } else if (procedureDate >= lastCycle && (procedureDate - lastCycle) / (1000 * 60 * 60 * 24) <= 5) {
    resultDiv.textContent = 'كنت في فترة الحيض أثناء الإجراء';
  } else {
    resultDiv.textContent = 'لا يمكن تحديد توقيت الدورة بدقة بناءً على البيانات المدخلة';
  }
});
</script>

</body>
</html>
